import { Knex } from 'knex';

/**
 * ============================================
 * FILE: 004_raw_materials.ts
 * ============================================
 */
export async function seed(knex: Knex): Promise<void> {
  await knex.raw('TRUNCATE TABLE raw_materials RESTART IDENTITY CASCADE');

  await knex('raw_materials').insert([
    // Cocoa Products
    {
      id: '880e8400-e29b-41d4-a716-446655440001',
      supplier_id: '770e8400-e29b-41d4-a716-446655440001',
      name: 'Premium Cocoa Beans',
      category: 'cocoa',
      quantity: 5000.00,
      unit: 'kg',
      unit_price: 8.50,
      reorder_point: 1000.00,
      storage_location: 'A1',
      expiry_date: '2025-12-31',
      created_at: knex.fn.now(),
      updated_at: knex.fn.now(),
    },
    {
      id: '880e8400-e29b-41d4-a716-446655440002',
      supplier_id: '770e8400-e29b-41d4-a716-446655440001',
      name: 'Cocoa Butter',
      category: 'cocoa',
      quantity: 800.00,
      unit: 'kg',
      unit_price: 12.00,
      reorder_point: 200.00,
      storage_location: 'A2',
      expiry_date: '2026-06-30',
      created_at: knex.fn.now(),
      updated_at: knex.fn.now(),
    },
    {
      id: '880e8400-e29b-41d4-a716-446655440003',
      supplier_id: '770e8400-e29b-41d4-a716-446655440001',
      name: 'Cocoa Powder',
      category: 'cocoa',
      quantity: 1200.00,
      unit: 'kg',
      unit_price: 6.50,
      reorder_point: 300.00,
      storage_location: 'A3',
      expiry_date: '2025-09-30',
      created_at: knex.fn.now(),
      updated_at: knex.fn.now(),
    },
    // Sweeteners
    {
      id: '880e8400-e29b-41d4-a716-446655440004',
      supplier_id: '770e8400-e29b-41d4-a716-446655440002',
      name: 'Cane Sugar',
      category: 'sweetener',
      quantity: 3000.00,
      unit: 'kg',
      unit_price: 1.20,
      reorder_point: 500.00,
      storage_location: 'B1',
      expiry_date: '2027-01-01',
      created_at: knex.fn.now(),
      updated_at: knex.fn.now(),
    },
    {
      id: '880e8400-e29b-41d4-a716-446655440005',
      supplier_id: '770e8400-e29b-41d4-a716-446655440002',
      name: 'Brown Sugar',
      category: 'sweetener',
      quantity: 600.00,
      unit: 'kg',
      unit_price: 1.50,
      reorder_point: 150.00,
      storage_location: 'B2',
      expiry_date: '2026-08-15',
      created_at: knex.fn.now(),
      updated_at: knex.fn.now(),
    },
    // Dairy Products
    {
      id: '880e8400-e29b-41d4-a716-446655440006',
      supplier_id: '770e8400-e29b-41d4-a716-446655440003',
      name: 'Whole Milk Powder',
      category: 'dairy',
      quantity: 2000.00,
      unit: 'kg',
      unit_price: 4.50,
      reorder_point: 400.00,
      storage_location: 'C1',
      expiry_date: '2025-07-31',
      created_at: knex.fn.now(),
      updated_at: knex.fn.now(),
    },
    {
      id: '880e8400-e29b-41d4-a716-446655440007',
      supplier_id: '770e8400-e29b-41d4-a716-446655440003',
      name: 'Heavy Cream',
      category: 'dairy',
      quantity: 500.00,
      unit: 'liters',
      unit_price: 3.80,
      reorder_point: 100.00,
      storage_location: 'C2',
      expiry_date: '2025-02-28',
      created_at: knex.fn.now(),
      updated_at: knex.fn.now(),
    },
    // Additives
    {
      id: '880e8400-e29b-41d4-a716-446655440008',
      supplier_id: '770e8400-e29b-41d4-a716-446655440004',
      name: 'Vanilla Extract',
      category: 'additive',
      quantity: 100.00,
      unit: 'liters',
      unit_price: 25.00,
      reorder_point: 20.00,
      storage_location: 'D1',
      expiry_date: '2026-12-31',
      created_at: knex.fn.now(),
      updated_at: knex.fn.now(),
    },
    {
      id: '880e8400-e29b-41d4-a716-446655440009',
      supplier_id: '770e8400-e29b-41d4-a716-446655440004',
      name: 'Sea Salt',
      category: 'additive',
      quantity: 300.00,
      unit: 'kg',
      unit_price: 2.00,
      reorder_point: 50.00,
      storage_location: 'D2',
      expiry_date: '2028-01-01',
      created_at: knex.fn.now(),
      updated_at: knex.fn.now(),
    },
    {
      id: '880e8400-e29b-41d4-a716-446655440010',
      supplier_id: '770e8400-e29b-41d4-a716-446655440004',
      name: 'Soy Lecithin',
      category: 'additive',
      quantity: 150.00,
      unit: 'kg',
      unit_price: 8.00,
      reorder_point: 30.00,
      storage_location: 'D3',
      expiry_date: '2025-10-31',
      created_at: knex.fn.now(),
      updated_at: knex.fn.now(),
    },
  ]);

  console.log('Seeded 10 raw materials (cocoa, sugar, dairy, additives)');
}
